<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sparx Maths</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  text-align: center;
}

.box {
  background: #020617;
  width: 320px;
  margin: 120px auto;
  padding: 25px;
  border-radius: 12px;
}

input, button {
  width: 90%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}

button {
  background: #22c55e;
  font-weight: bold;
  cursor: pointer;
}

header {
  background: #020617;
  padding: 20px;
  font-size: 26px;
  display: none;
}

.tabs {
  display: none;
  justify-content: center;
  background: #020617;
}

.tab {
  padding: 15px 25px;
  cursor: pointer;
}

.tab.active {
  border-bottom: 3px solid #22c55e;
}

.content {
  display: none;
  padding: 20px;
}

.symbol {
  font-size: 60px;
  margin: 25px;
  cursor: pointer;
  display: inline-block;
  user-select: none;
  transition: transform 0.2s, opacity 0.2s;
}

.symbol:hover {
  transform: scale(1.2);
  opacity: 0.8;
}

iframe {
  width: 100%;
  height: 540px;
  border: none;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="box" id="login">
  <h1>Sparx Maths</h1>
  <p>Please complete your homework</p>
  <input type="password" id="password" placeholder="Enter homework code">
  <button>Submit</button>
</div>

<!-- MAIN -->
<header id="site">Sparx Maths</header>

<div class="tabs" id="tabs">
  <div class="tab active" onclick="openTab('algebra', this)">Algebra</div>
  <div class="tab" onclick="openTab('practice', this)">Practice</div>
</div>

<!-- ALGEBRA -->
<div id="algebra" class="content" style="display:block;">
  <div class="symbol" onclick="loadGame('poly-track')">ðŸ”¢</div>
  <div class="symbol" onclick="loadGame('1v1-lol')">Ã·</div>
</div>

<!-- PRACTICE -->
<div id="practice" class="content">
  <div class="symbol" onclick="loadGame('slope')">Ã—</div>
  <div class="symbol" onclick="loadGame('r-vs-b')">âˆš</div>
</div>

<!-- GAME IFRAME -->
<div id="game-container" class="content">
  <iframe id="game-frame" src=""></iframe>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const passwordInput = document.getElementById("password");
  const loginBox = document.getElementById("login");
  const siteHeader = document.getElementById("site");
  const tabs = document.getElementById("tabs");
  const algebraTab = document.getElementById("algebra");
  const gameContainer = document.getElementById("game-container");
  const gameFrame = document.getElementById("game-frame");
  const tabElements = document.querySelectorAll('.tab');
  const contentElements = document.querySelectorAll('.content');

  // LOGIN FUNCTION
  function unlock() {
    if (passwordInput.value === "Maths") {
      loginBox.style.display = "none";
      siteHeader.style.display = "block";
      tabs.style.display = "flex";
      algebraTab.style.display = "block";
    } else {
      alert("Incorrect homework code");
    }
  }

  // TAB FUNCTION
  window.openTab = function(id, el) {
    contentElements.forEach(c => { if(c.id !== 'game-container') c.style.display = 'none'; });
    tabElements.forEach(t => t.classList.remove('active'));
    if(id !== 'game-container') document.getElementById(id).style.display = 'block';
    el.classList.add('active');
  }

  // LOAD GAME FUNCTION
  window.loadGame = function(game) {
    gameContainer.style.display = "block";
    if(game === 'poly-track') gameFrame.src = "https://www.madkidgames.com/full/poly-track";
    if(game === '1v1-lol') gameFrame.src = "https://www.madkidgames.com/full/1v1-lol";
    if(game === 'slope') gameFrame.src = "https://www.madkidgames.com/full/slope";
    if(game === 'r-vs-b') gameFrame.src = "https://www.madkidgames.com/full/r-vs-b";

    contentElements.forEach(c => { if(c.id !== 'game-container') c.style.display = 'none'; });
    tabElements.forEach(t => t.classList.remove('active'));
  }

  // PANIC BUTTON = X â†’ redirect to real Sparx Maths
  document.addEventListener("keydown", e => {
    if(e.key.toLowerCase() === "x") {
      window.location.href = "https://www.sparxmaths.uk/";
    }
  });

  // ENTER SUBMITS PASSWORD
  passwordInput.addEventListener("keydown", e => {
    if(e.key === "Enter") unlock();
  });

  // BUTTON CLICK SUBMITS PASSWORD
  document.querySelector("button").addEventListener("click", unlock);
});
</script>

</body>
</html>
